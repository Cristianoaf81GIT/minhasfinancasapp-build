(this["webpackJsonpminhas-financas-app"]=this["webpackJsonpminhas-financas-app"]||[]).push([[0],{42:function(e,a,t){e.exports=t(88)},51:function(e,a,t){},88:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(14),s=t.n(o),l=t(1),c=t(2),i=t(7),u=t(6),m=(t(47),t(48),t(18),t(49),t(50),t(51),t(21)),d=t(5),p=t(10),h=function(e){Object(i.a)(t,e);var a=Object(u.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"card mb-3"},r.a.createElement("h3",{className:"card-header"},this.props.title),r.a.createElement("div",{className:"card-body"},this.props.children))}}]),t}(r.a.Component);var b={spaceBetween:{padding:"0.2em"}},f=function(e){return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:e.htmlFor,style:b.spaceBetween}," ",e.label," "),e.children)},v=t(38),E=t.n(v).a.create({baseURL:"https://crf81-minhas-financas-api.herokuapp.com"}),g=function(){function e(a){Object(l.a)(this,e),this.apiurl=a}return Object(c.a)(e,[{key:"post",value:function(e,a){return E.post("".concat(this.apiurl).concat(e),a)}},{key:"put",value:function(e,a){return E.put("".concat(this.apiurl).concat(e),a)}},{key:"delete",value:function(e){return E.delete("".concat(this.apiurl).concat(e))}},{key:"get",value:function(e){return E.get("".concat(this.apiurl).concat(e))}}]),e}();var N=function(e){this.mensagens=e},y=function(e){Object(i.a)(t,e);var a=Object(u.a)(t);function t(){return Object(l.a)(this,t),a.call(this,"/api/usuarios")}return Object(c.a)(t,[{key:"autenticar",value:function(e){return this.post("/autenticar",e)}},{key:"obterSaldoPorUsuario",value:function(e){return this.get("/".concat(e,"/saldo"))}},{key:"salvar",value:function(e){return this.post("/",e)}},{key:"validar",value:function(e){var a=[];if(e.nome||a.push("O campo nome \xe9 obrigat\xf3rio"),e.email?e.email.match(/^[a-zA-Z0-9]+@[a-zA-Z0-9]+\.[a-zA-Z]/)||a.push("Informe um e-mail v\xe1lido"):a.push("O campo email \xe9 obrigat\xf3rio"),e.senha&&e.senhaRepeticao?e.senha!==e.senhaRepeticao&&a.push("As senhas n\xe3o coincidem"):a.push("Favor digite a senha 2X."),a&&a.length>0)throw new N(a)}}]),t}(g),O=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,null,[{key:"adicionarItem",value:function(e,a){localStorage.setItem(e,JSON.stringify(a))}},{key:"obterItem",value:function(e){return JSON.parse(localStorage.getItem(e))}},{key:"removerItem",value:function(e){localStorage.removeItem(e)}}]),e}(),C=t(24),w=t.n(C);function k(e,a,t){w.a[t](a,e)}function S(e){k("Erro",e,"error")}function j(e){k("Sucesso",e,"success")}function A(e){k("Aviso",e,"warning")}w.a.options={closeButton:!0,debug:!1,newestOnTop:!0,progressBar:!0,positionClass:"toast-top-right",preventDuplicates:!1,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"};var x=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,null,[{key:"isUsuarioAutenticado",value:function(){var e=O.obterItem("_usuario_logado");return e&&e.id}},{key:"removerUsuarioAutenticado",value:function(){O.removerItem("_usuario_logado")}},{key:"logar",value:function(e){O.adicionarItem("_usuario_logado",e)}},{key:"obterUsuarioAutenticado",value:function(){return O.obterItem("_usuario_logado")}}]),e}(),D=r.a.createContext(),I=D.Consumer,L=D.Provider,U=function(e){Object(i.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={usuarioAutenticado:null,isAutenticado:!1},e.iniciarSessao=function(a){x.logar(a),e.setState({isAutenticado:!0,usuarioAutenticado:a})},e.encerrarSessao=function(){x.removerUsuarioAutenticado(),e.setState({isAutenticado:!1,usuarioAutenticado:null})},e}return Object(c.a)(t,[{key:"render",value:function(){var e={usuarioAutenticado:this.state.usuarioAutenticado,isAutenticado:this.state.isAutenticado,iniciarSessao:this.iniciarSessao,encerrarSessao:this.encerrarSessao};return r.a.createElement(L,{value:e},this.props.children)}}]),t}(r.a.Component),z=function(e){Object(i.a)(t,e);var a=Object(u.a)(t);function t(){var e;return Object(l.a)(this,t),(e=a.call(this)).state={email:"",senha:"",mensagemErro:null},e.entrar=function(){e.service.autenticar({email:e.state.email,senha:e.state.senha}).then((function(a){O.adicionarItem("_usuario_logado",a.data),e.context.iniciarSessao(a.data),e.props.history.push("/home")})).catch((function(a){e.setState({mensagemErro:a.response.data}),S(e.state.mensagemErro)}))},e.renderizaResponstaErro=function(){if(e.state.mensagemErro)return r.a.createElement("span",{className:"alert text-danger"},r.a.createElement("li",{style:R.alertWidth},"Erro : ",e.state.mensagemErro))},e.prepareCadastrar=function(){e.props.history.push("/cadastro-usuarios")},e.service=new y,e}return Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col col-md-6",style:R.formColumn},r.a.createElement("div",{className:"bs-docs-section"},r.a.createElement(h,{title:"Login"},r.a.createElement("div",{className:"row",style:{marginBottom:"3px"}},this.renderizaResponstaErro()),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"bs-component"},r.a.createElement("fieldset",null,r.a.createElement(f,{label:"Email: *",htmlFor:"exampleInputEmail"},r.a.createElement("input",{type:"email",required:!0,value:this.state.email,onChange:function(a){return e.setState({email:a.target.value})},className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Digite o Email"})),r.a.createElement(f,{label:"Senha: *",htmlFor:"exampleInputPassword1"},r.a.createElement("input",{type:"password",required:!0,value:this.state.senha,onChange:function(a){return e.setState({senha:a.target.value})},className:"form-control",id:"exampleInputPassword1",placeholder:"Digite a senha"})),r.a.createElement("button",{onClick:this.entrar,className:"btn btn-success"},r.a.createElement("span",null,r.a.createElement("i",{className:"fa fa-sign-in"})),"\xa0 Entrar"),"\xa0",r.a.createElement("button",{className:"btn btn-danger",onClick:this.prepareCadastrar},r.a.createElement("span",null,r.a.createElement("i",{className:"fa fa-user"})),"\xa0 Cadastrar")))))))))}}]),t}(r.a.Component),R={formColumn:{width:"50%",maxWidth:"100%",marginLeft:"auto",marginRight:"auto"},alertWidth:{width:"100%",marginLeft:"auto",marginRight:"auto"}};z.contextType=D;var T=Object(d.g)(z),F=function(e){Object(i.a)(t,e);var a=Object(u.a)(t);function t(){var e;return Object(l.a)(this,t),(e=a.call(this)).state={nome:"",email:"",senha:"",senhaRepeticao:""},e.cadastrar=function(){var a=e.state,t={nome:a.nome,email:a.email,senha:a.senha,senhaRepeticao:a.senhaRepeticao};try{e.service.validar(t)}catch(n){return n.mensagens.forEach((function(e){return A(e)})),!1}e.service.salvar(t).then((function(a){j("Usu\xe1rio cadastrado com sucesso!Fa\xe7a o login para acessar o sistema"),e.props.history.push("/login")})).catch((function(e){console.log(e),S(e.response)}))},e.cancelar=function(){e.props.history.push("/login")},e.service=new y,e}return Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(h,{title:"Cadastro de Usu\xe1rio"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"bs-content"},r.a.createElement(f,{label:"Nome: *",htmlFor:"inputNome"},r.a.createElement("input",{type:"text",id:"inputNome",className:"form-control",required:!0,onChange:function(a){return e.setState({nome:a.target.value})},name:"nome"})),r.a.createElement(f,{label:"E-Mail: *",htmlFor:"inputEmail"},r.a.createElement("input",{type:"email",id:"inputEmail",className:"form-control",required:!0,onChange:function(a){return e.setState({email:a.target.value})},name:"email"})),r.a.createElement(f,{label:"Senha: *",htmlFor:"inputSenha"},r.a.createElement("input",{type:"password",id:"inputSenha",className:"form-control",required:!0,onChange:function(a){return e.setState({senha:a.target.value})},name:"senha"})),r.a.createElement(f,{label:"Repita a senha: *",htmlFor:"inputRepeteSenha"},r.a.createElement("input",{type:"password",id:"inputRepeteSenha",className:"form-control",required:!0,onChange:function(a){return e.setState({senhaRepeticao:a.target.value})},name:"senha"})),r.a.createElement("button",{type:"button",onClick:this.cadastrar,className:"btn btn-success"},r.a.createElement("span",null,r.a.createElement("i",{className:"fa fa-floppy-o"})),"\xa0 Salvar"),r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:this.cancelar},r.a.createElement("span",null,r.a.createElement("i",{className:"fa fa-undo"})),"\xa0 Cancelar")))))}}]),t}(r.a.Component),M=Object(d.g)(F),_=t(15),W=t.n(_),V=t(17),B=t(19),P=t.n(B),q=function(e){Object(i.a)(t,e);var a=Object(u.a)(t);function t(){var e;return Object(l.a)(this,t),(e=a.call(this)).state={saldo:0,nome:""},e.componentDidMount=Object(V.a)(W.a.mark((function a(){var t,n;return W.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.context.usuarioAutenticado,e.setState({nome:t.nome}),a.prev=2,a.next=5,e.usuarioService.obterSaldoPorUsuario(t.id);case 5:n=a.sent,e.setState({saldo:n.data}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),console.error(a.t0.response);case 12:case"end":return a.stop()}}),a,null,[[2,9]])}))),e.usuarioService=new y,e}return Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"jumbotron bg-lightblue"},r.a.createElement("h1",{className:"display-4"},"Bem vindo!"),r.a.createElement("p",{style:J.uname},this.state.nome.toUpperCase()),r.a.createElement("p",{className:"lead"},"Esse \xe9 seu sistema de finan\xe7as."),r.a.createElement("p",{className:"lead"},"Seu saldo para o m\xeas atual \xe9 de ",P.a.format(this.state.saldo,{code:"BRL"})),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("p",null,"E essa \xe9 sua \xe1rea administrativa, utilize um dos menus ou bot\xf5es abaixo para navegar pelo sistema."),r.a.createElement("p",{className:"lead"},r.a.createElement(p.b,{className:"btn btn-primary btn-md btn-home",to:"/cadastro-usuarios",role:"button"},r.a.createElement("span",null,r.a.createElement("i",{className:"fa fa-users"}),"\xa0 Cadastrar Usu\xe1rio")),r.a.createElement(p.b,{className:"btn btn-danger btn-md btn-home",to:"/cadastro-lancamentos/0",role:"button"},r.a.createElement("span",null,r.a.createElement("i",{className:"fa fa-money"}),"\xa0 Cadastrar Lan\xe7amento"))))}}]),t}(r.a.Component),J={uname:{color:"red",fontWeight:"100"}};q.contextType=D;var H=q,Z=t(16),X=function(e){var a=e.items.map((function(e,a){return r.a.createElement("option",{className:"optclass",key:a,value:e.value},e.label)}));return r.a.createElement("select",e,a)},G=function(e){var a=e.lancamentos.map((function(a){return r.a.createElement("tr",{key:a.id},r.a.createElement("td",null,a.descricao),r.a.createElement("td",null,P.a.format(a.valor,{code:"BRL"})),r.a.createElement("td",null,a.tipo),r.a.createElement("td",null,a.mes),r.a.createElement("td",null,a.status),r.a.createElement("td",null,r.a.createElement("button",{type:"button",className:"btn btn-outline-primary btn-table",disabled:"EFETIVADO"===a.status,onClick:function(t){return e.changeStatus(a,"EFETIVADO")},"data-toggle":"tooltip","data-placement":"top",title:"redefinir situa\xe7\xe3o: efetivar lan\xe7amento"},r.a.createElement("i",{className:"fa fa-check"})),r.a.createElement("button",{type:"button",className:"btn btn-outline-warning btn-table",disabled:"CANCELADO"===a.status,onClick:function(t){return e.changeStatus(a,"CANCELADO")},"data-toggle":"tooltip","data-placement":"top",title:"redefinir situa\xe7\xe3o: cancelar lan\xe7amento"},r.a.createElement("i",{className:"fa fa-ban"})),r.a.createElement("button",{type:"button",className:"btn btn-outline-info btn-table",disabled:"PENDENTE"===a.status,onClick:function(t){return e.changeStatus(a,"PENDENTE")},"data-toggle":"tooltip","data-placement":"top",title:"reverter situa\xe7\xe3o para lan\xe7amento pendente"},r.a.createElement("i",{className:"fa fa-undo"})),r.a.createElement("button",{type:"button",className:"btn btn-outline-success btn-table","data-toggle":"tooltip","data-placement":"top",title:"editar o lan\xe7amento",onClick:function(t){return e.editAction(a.id)}},r.a.createElement("i",{className:"fa fa-edit"})),r.a.createElement("button",{type:"button",className:"btn btn-outline-danger btn-table","data-toggle":"tooltip","data-placement":"top",title:"excluir o lan\xe7amento",onClick:function(t){return e.deleteAction(a)}},r.a.createElement("i",{className:"fa fa-trash"}))))}));return r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Descri\xe7\xe3o"),r.a.createElement("th",{scope:"col"},"Valor"),r.a.createElement("th",{scope:"col"},"Tipo"),r.a.createElement("th",{scope:"col"},"M\xeas"),r.a.createElement("th",{scope:"col"},"Situa\xe7\xe3o"),r.a.createElement("th",{scope:"col"},"A\xe7\xf5es"))),r.a.createElement("tbody",null,a))},K=function(e){Object(i.a)(t,e);var a=Object(u.a)(t);function t(){return Object(l.a)(this,t),a.call(this,"/api/lancamentos")}return Object(c.a)(t,[{key:"obterListameses",value:function(){return[{label:"Selecione",value:""},{label:"Janeiro",value:1},{label:"Fevereiro",value:2},{label:"Mar\xe7o",value:3},{label:"Abril",value:4},{label:"Maio",value:5},{label:"Junho",value:6},{label:"Julho",value:7},{label:"Agosto",value:8},{label:"Setembro",value:9},{label:"Outubro",value:10},{label:"Novembro",value:11},{label:"Dezembro",value:12}]}},{key:"obterListaTipos",value:function(){return[{label:"Selecione...",value:""},{label:"Despesa",value:"DESPESA"},{label:"Receita",value:"RECEITA"}]}},{key:"consultar",value:function(e){var a="?usuario=".concat(e.usuario);return e.ano&&(a="".concat(a,"&ano=").concat(e.ano)),e.tipo&&(a="".concat(a,"&tipo=").concat(e.tipo)),e.mes&&(a="".concat(a,"&mes=").concat(e.mes)),e.status&&(a="".concat(a,"&status=").concat(e.status)),e.descricao&&(a="".concat(a,"&status=").concat(e.descricao)),this.get(a)}},{key:"deletar",value:function(e){return this.delete("/".concat(e))}},{key:"salvar",value:function(e){return this.post("/",e)}},{key:"obterPorId",value:function(e){return this.get("/".concat(e))}},{key:"atualizar",value:function(e){return this.put("/".concat(e.id),e)}},{key:"validar",value:function(e){var a=[];if(e.ano||a.push("Informe o ano."),e.mes||a.push("Informe o m\xeas."),e.descricao||a.push("Informe a descri\xe7\xe3o."),e.valor||a.push("Informe o valor."),e.tipo||a.push("Informe o tipo."),a&&a.length>0)throw new N(a)}},{key:"alterarStatus",value:function(e,a){return this.put("/".concat(e,"/atualizar-status"),{status:a})}}]),t}(g),Q=t(40),Y={ano:"",mes:"",tipo:"",descricao:"",lancamentos:[],showConfirmDialog:!1,lancamentoDeletar:{}},$=function(e){Object(i.a)(t,e);var a=Object(u.a)(t);function t(){var e;return Object(l.a)(this,t),(e=a.call(this)).state={ano:"",mes:"",tipo:"",descricao:"",lancamentos:[],showConfirmDialog:!1,lancamentoDeletar:{}},e.defineLarguraModal=function(){return e.windowViewportWidth=window.innerWidth,e.windowViewportWidth&&e.windowViewportWidth<=800?{width:"80vw"}:{width:"30vw"}},e.buscar=Object(V.a)(W.a.mark((function a(){var t,n;return W.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e.state.ano){a.next=3;break}return A("O preenchimento do campo ano \xe9 obrigat\xf3rio!"),a.abrupt("return",!1);case 3:return t=O.obterItem("_usuario_logado"),n={ano:e.state.ano,mes:e.state.mes,tipo:e.state.tipo,descricao:e.state.descricao,usuario:t.id},a.next=7,e.service.consultar(n).then((function(a){e.setState({lancamentos:a.data}),e.state.lancamentos.length<=0&&A("Nenhum registro encontrado para as defini\xe7\xf5es de pesquisa!")})).catch((function(e){S(e.data)}));case 7:case"end":return a.stop()}}),a)}))),e.DialogoConfirmaACao=function(a){e.setState({showConfirmDialog:!0,lancamentoDeletar:a})},e.editar=function(a){e.props.history.push("/cadastro-lancamentos/".concat(a))},e.deletar=function(){try{e.service.deletar(e.state.lancamentoDeletar.id);var a=e.state.lancamentos,t=a.indexOf(e.state.lancamentoDeletar);a.splice(t,1),e.setState({lancamentos:a,showConfirmDialog:!1}),j("Lan\xe7amento removido com sucesso!")}catch(n){S("Ocorreu um erro ao remover o lan\xe7amento!")}},e.alterarStatus=function(a,t){e.service.alterarStatus(a.id,t).then((function(n){var r=e.state.lancamentos,o=r.indexOf(a);-1!==o&&(a.status=t,r[o]=a,e.setState({lancamentos:r}),j("status alterado com sucesso"))}))},e.service=new K,e.windowViewportWidth=window.innerWidth,e}return Object(c.a)(t,[{key:"componentDidUpdate",value:function(){this.windowViewportWidth=window.innerWidth,this.defineLarguraModal()}},{key:"render",value:function(){var e=this,a=this.service.obterListameses(),t=this.service.obterListaTipos(),n=r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-success",onClick:this.deletar},r.a.createElement("span",null,r.a.createElement("i",{className:"fa fa-check"})),"sim"),r.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.setState({showConfirmDialog:!1,lancamentoDeletar:{}})}},r.a.createElement("span",null,r.a.createElement("i",{className:"fa fa-times"})),"N\xe3o"));return r.a.createElement(h,{title:"Consulta Lancamentos"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"bs-component"},r.a.createElement(f,{htmlFor:"inputAno",label:"Ano: *"},r.a.createElement("input",{type:"text",className:"form-control",id:"inputAno",value:this.state.ano,onChange:function(a){return e.setState({ano:a.target.value})},placeholder:"digite o ano"})),r.a.createElement(f,{htmlFor:"inputMes",label:"M\xeas: "},r.a.createElement(X,{items:a,value:this.state.mes,onChange:function(a){return e.setState({mes:a.target.value})},id:"inputMes",className:"form-control"})),r.a.createElement(f,{htmlFor:"inputDescricao",label:"Descri\xe7\xe3o: "},r.a.createElement("input",{type:"text",className:"form-control",id:"inputDescricao",value:this.state.descricao,onChange:function(a){return e.setState({descricao:a.target.value})},placeholder:"digite a descri\xe7\xe3o"})),r.a.createElement(f,{htmlFor:"inputTipo",label:"Tipo lan\xe7amento: "},r.a.createElement(X,{items:t,id:"inputTipo",value:this.state.tipo,onChange:function(a){return e.setState({tipo:a.target.value})},className:"form-control"})),r.a.createElement("button",{type:"button",onClick:this.buscar,className:"btn btn-success"},r.a.createElement("i",{className:"fa fa-search"}),"\xa0 Buscar"),r.a.createElement(p.b,{to:"/cadastro-lancamentos",className:"btn btn-primary"},r.a.createElement("i",{className:"fa fa-plus"}),"\xa0 Cadastrar")))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"bs-component"},r.a.createElement("br",null),r.a.createElement("div",{className:"table table-responsive"},this.state.lancamentos.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{type:"button",onClick:function(){return e.setState(Object(Z.a)({},Y))},className:"btn lancamentos-btn btn-link",style:{marginTop:"30px"}},r.a.createElement("i",{className:"fa fa-paint-brush"}),"\xa0 limpar pesquisa"),r.a.createElement(G,{lancamentos:this.state.lancamentos,deleteAction:this.DialogoConfirmaACao,editAction:this.editar,changeStatus:this.alterarStatus})):null)))),r.a.createElement("div",null,r.a.createElement(Q.Dialog,{header:"Confirmar exclus\xe3o",visible:this.state.showConfirmDialog,style:this.defineLarguraModal(),modal:!0,footer:n,onHide:function(){return e.setState({showConfirmDialog:!1})}},"Deseja realmente excluir este lan\xe7amento ?",r.a.createElement("br",null),this.state.lancamentoDeletar.descricao)))}}]),t}(r.a.Component),ee=Object(d.g)($),ae=t(20),te={id:null,descricao:"",valor:"",mes:"",ano:"",tipo:"",status:"",usuario:null,atualizando:!1},ne=function(e){Object(i.a)(t,e);var a=Object(u.a)(t);function t(){var e;return Object(l.a)(this,t),(e=a.call(this)).state={id:null,descricao:"",valor:"",mes:"",ano:"",tipo:"",status:"",usuario:null,atualizando:!1},e.handleOnChange=function(a){var t=a.target.value,n=a.target.name;e.setState(Object(ae.a)({},n,t))},e.submit=Object(V.a)(W.a.mark((function a(){var t,n,r,o,s,l,c,i,u;return W.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t=O.obterItem("_usuario_logado"),n=t.id,r=e.state,o=r.descricao,s=r.valor,l=r.mes,c=r.ano,i=r.tipo,u={descricao:o,valor:s,mes:l,ano:c,tipo:i,usuario:n},a.prev=4,e.service.validar(u),a.next=13;break;case 8:return a.prev=8,a.t0=a.catch(4),a.t0.mensagens.forEach((function(e){return A(e)})),a.abrupt("return",!1);case 13:return a.next=15,e.service.salvar(u).then((function(a){j("Lancamento cadastrado com sucesso!"),e.setState(Object(Z.a)({},te))})).catch((function(e){S(e.response.data)}));case 15:case"end":return a.stop()}}),a,null,[[4,8]])}))),e.atualizar=function(){var a=e.state,t={descricao:a.descricao,valor:a.valor,mes:a.mes,ano:a.ano,tipo:a.tipo,id:a.id,usuario:a.usuario,status:a.status};console.log("lancamento: ",t),e.service.atualizar(t).then((function(a){j("Lancamento atualizado com sucesso!"),e.setState(Object(Z.a)({},te))})).catch((function(e){S(e.response.data)}))},e.service=new K,e}return Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,a=this.props.match.params;a.id&&null!==a.id&&a.id>0&&this.service.obterPorId(a.id).then((function(a){e.setState(Object(Z.a)(Object(Z.a)({},a.data),{},{atualizando:!0}))})).catch((function(e){S(e.response.data)}))}},{key:"render",value:function(){var e=this,a=this.service.obterListaTipos(),t=this.service.obterListameses();return r.a.createElement(h,{title:this.state.atualizando?"Atualiza\xe7\xe3o de Lancamento":"Cadastro de Lan\xe7amento"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(f,{id:"inputDescricao",label:"Descri\xe7\xe3o: *"},r.a.createElement("input",{type:"text",className:"form-control",id:"inputDescricao",name:"descricao",value:this.state.descricao,onChange:this.handleOnChange})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement(f,{id:"inputAno",label:"Ano: *"},r.a.createElement("input",{type:"text",className:"form-control",id:"inputAno",value:this.state.ano,name:"ano",onChange:this.handleOnChange}))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement(f,{id:"inputMes",label:"M\xeas: *"},r.a.createElement(X,{id:"inputMes",items:t,name:"mes",value:this.state.mes,onChange:this.handleOnChange,className:"form-control"})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement(f,{id:"inputValor",label:"Valor: *"},r.a.createElement("input",{type:"text",className:"form-control",id:"inputValor",name:"valor",value:this.state.valor,onChange:this.handleOnChange}))),r.a.createElement("div",{className:"col-md-3"},r.a.createElement(f,{id:"inputTipo",label:"Tipo: *"},r.a.createElement(X,{id:"inputTipo",name:"tipo",items:a,value:this.state.tipo,onChange:this.handleOnChange,className:"form-control"}))),r.a.createElement("div",{className:"col-md-3"},""===this.state.status?null:r.a.createElement(f,{id:"inputStatus",label:"Status: "},r.a.createElement("input",{type:"text",name:"status",onChange:this.handleOnChange,value:this.state.status,className:"form-control",disabled:!0})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("button",{onClick:this.state.id&&this.state.id>0&&this.state.atualizando?this.atualizar:this.submit,className:"btn btn-success"},r.a.createElement("span",null,r.a.createElement("i",{className:"fa fa-floppy-o"})),"\xa0",this.state.atualizando?"Atualizar":"Salvar"),r.a.createElement("button",{onClick:function(a){return e.props.history.push("/consulta-lancamentos")},className:"btn btn-danger"},r.a.createElement("span",null,r.a.createElement("i",{className:"fa fa-times"})),"\xa0 Cancelar"))),r.a.createElement("br",null),r.a.createElement(p.b,{to:"/consulta-lancamentos",style:re.linkLancamento},r.a.createElement("i",{className:"fa fa-money"}),"\xa0\xa0consultar lan\xe7amentos"))}}]),t}(r.a.Component),re={linkLancamento:{margin:"3.4rem 0.8rem",border:"1px solid rgb(225,225,225)",textDecoration:"none",flex:1,flexDirection:"row",alignItems:"center",justifyContent:"center"}},oe=Object(d.g)(ne);function se(e){var a=e.component,t=e.isUsuarioAutenticado,n=Object(m.a)(e,["component","isUsuarioAutenticado"]);return r.a.createElement(d.b,Object.assign({},n,{render:function(e){return t?r.a.createElement(a,e):r.a.createElement(d.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}function le(e){return r.a.createElement(p.a,null,r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/login",component:T}),r.a.createElement(d.b,{path:"/cadastro-usuarios",component:M}),r.a.createElement(se,{isUsuarioAutenticado:e.isUsuarioAutenticado,path:"/home",component:H}),r.a.createElement(se,{isUsuarioAutenticado:e.isUsuarioAutenticado,path:"/consulta-lancamentos",component:ee}),r.a.createElement(se,{isUsuarioAutenticado:e.isUsuarioAutenticado,path:"/cadastro-lancamentos/:id?",component:oe}),r.a.createElement(d.b,{path:"/"},r.a.createElement(d.a,{to:"/login"}))))}var ce=function(){return r.a.createElement(I,null,(function(e){return r.a.createElement(le,{isUsuarioAutenticado:e.isAutenticado})}))},ie=function(e){var a=e.render,t=Object(m.a)(e,["render"]);return!!a&&r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{onClick:t.onClick,className:"nav-link",href:t.href,tabIndex:"1"},t.label))};function ue(e){return r.a.createElement("div",{className:"navbar navbar-expand-lg fixed-top navbar-dark bg-primary"},r.a.createElement("div",{className:"container"},r.a.createElement("a",{href:"#/home",className:"navbar-brand"},"Minhas Finan\xe7as"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"true","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse collapse",id:"navbarResponsive"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement(ie,{render:e.isUsuarioAutenticado,href:"#/home",label:"Home"}),r.a.createElement(ie,{render:e.isUsuarioAutenticado,href:"#/cadastro-usuarios",label:"Usu\xe1rios"}),r.a.createElement(ie,{render:e.isUsuarioAutenticado,href:"#/consulta-lancamentos",label:"Lan\xe7amentos"}),r.a.createElement(ie,{render:e.isUsuarioAutenticado,onClick:e.deslogar,href:"#/login",label:"Sair"})))))}var me=function(){return r.a.createElement(I,null,(function(e){return r.a.createElement(ue,{isUsuarioAutenticado:e.isAutenticado,deslogar:e.encerrarSessao})}))},de=(t(84),t(85),t(86),t(87),function(e){Object(i.a)(t,e);var a=Object(u.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(U,null,r.a.createElement(me,null),r.a.createElement("div",{className:"container"},r.a.createElement(ce,null)))}}]),t}(r.a.Component));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(de,null)),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.08b408b0.chunk.js.map